CREATE TABLE it_analise_comil
(
 cod_empresa     CHAR(2) NOT NULL,
 tip_analise     DECIMAL(6,0) NOT NULL,
 den_analise     CHAR(30) NOT NULL,
 den_analise_ing CHAR(30),
 tipo_granulo    CHAR (15),
 ies_tip_texto   CHAR(01) 
  );


CREATE UNIQUE INDEX ix_it_an_comil_1 ON 
      it_analise_comil(cod_empresa,tip_analise);


CREATE TABLE informix.malhas_comil
	(
	cod_empresa  CHAR (2),
	tipo_granulo CHAR (15),
	cod_malha    CHAR (5),
	val_malha    DECIMAL(6,2),
	min_malha    DECIMAL(7,3),
	max_malha    DECIMAL(7,3)
	);

CREATE UNIQUE INDEX ix_malhas_comil
	ON malhas_comil (cod_empresa, tipo_granulo, cod_malha);


create table item_comil
(
cod_empresa       char(02),
cod_item_comil    char(15),
den_item_comil    char(60),
den_ingles_comil  char(60)
)


create index ix_item_comil on item_comil 
    (cod_empresa,cod_item_comil);


CREATE TABLE especific_comil 
  (
    cod_empresa     CHAR(2) NOT NULL,
    cod_item        CHAR(15) NOT NULL,
    tip_analise     DECIMAL(6,0) NOT NULL,
    tipo_granulo    CHAR(15) NOT NULL,
    metodo          CHAR(20) NOT NULL,
    unidade         CHAR(15),
    val_especif_de  DECIMAL(10,4) NOT NULL,
    val_especif_ate DECIMAL(10,4) NOT NULL,
    variacao        DECIMAL(10,4) NOT NULL,
    tipo_valor      CHAR(2),
    qtd_casas_dec   INTEGER
  );

CREATE UNIQUE INDEX ix_espec_comil_1 ON especific_comil 
    (cod_empresa,cod_item,tip_analise,tipo_granulo);

CREATE TABLE result_analise741
(
cod_empresa  CHAR(02) NOT NULL,
tip_analise  DECIMAL(6,0) NOT NULL,
cod_result   DECIMAL(3,0) NOT NULL, 
den_result   CHAR(30)
  );
REVOKE ALL ON result_analise741 FROM "public";

CREATE UNIQUE INDEX ix_result_analise741 ON result_analise741 
   (cod_empresa,tip_analise,cod_result);

CREATE TABLE laudo_usu_comil
	(
	cod_empresa CHAR (2),
	cod_usuario CHAR (8)
	);

CREATE UNIQUE INDEX ix_lau_usu_com_1
	ON laudo_usu_comil (cod_empresa, cod_usuario);

CREATE TABLE par_laudo_comil 
  (
    cod_empresa     CHAR(2)      NOT NULL,
    cod_item        CHAR(15)     NOT NULL,
    cod_cliente     CHAR(15),
    tip_analise     DECIMAL(6,0) NOT NULL,
    pa_fora_especif CHAR(1)      NOT NULL,
    tipo_venda      CHAR(11),
    granulometria   CHAR(1)      NOT NULL,
    bloqueia_laudo  CHAR(1)      NOT NULL,
    texto           CHAR(100)
  );
REVOKE ALL ON par_laudo_comil FROM "public";

CREATE UNIQUE INDEX ix_par_laudo ON par_laudo_comil 
   (cod_empresa,cod_item,cod_cliente,tip_analise);



CREATE TABLE analise_comil
	(
	cod_empresa   CHAR (2),
	cod_item      CHAR (15),
	tipo_granulo  CHAR (15),
	dat_analise   DATE,
	hor_analise   DATETIME HOUR TO SECOND,
	num_lote      CHAR (15),
	tip_analise   DECIMAL(6,0),
	metodo        CHAR (20),
	val_analise   DECIMAL(10,4),
	situa_analise CHAR (1)
	);

CREATE UNIQUE INDEX ix_analis_comil_1
	ON analise_comil (cod_empresa, cod_item, num_lote, tip_analise);
	
	
	CREATE TABLE anal_granu_comil
	(
	cod_empresa CHAR (2),
	cod_item    CHAR (15),
	num_lote    CHAR (10),
	cod_malha   CHAR (5),
	resultado   DECIMAL(7,3)
	);

CREATE UNIQUE INDEX anal_grana_comil_1
	ON anal_granu_comil (cod_empresa, cod_item, num_lote, cod_malha);
	
	CREATE TABLE cli_laudo_comil
	(
	cod_empresa CHAR (2),
	cod_cliente CHAR (15)
	);

CREATE UNIQUE INDEX ix_cli_laudo_comil
	ON cli_laudo_comil (cod_empresa, cod_cliente);





